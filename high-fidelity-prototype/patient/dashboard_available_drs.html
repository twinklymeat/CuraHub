<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CuraHub — Available Doctors Dashboard</title>
  <link rel="stylesheet" href="../styles.css">
  <style>
    /* Lightweight modal styling for the Apply for Care flow */
    #applyModal {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(15, 23, 42, 0.45);
      z-index: 50;
      padding: 16px;
    }
    #applyModal .modal-card {
      width: 100%;
      max-width: 520px;
      background: #ffffff;
      color: #0f172a;
      border-radius: 12px;
      box-shadow: 0 16px 40px rgba(15, 23, 42, 0.25);
      padding: 20px;
      position: relative;
    }
    #applyModal .close-btn {
      border: none;
      background: transparent;
      font-size: 1.1rem;
      cursor: pointer;
      color: #475569;
    }
    #applyModal label {
      font-weight: 600;
      display: block;
      margin-top: 12px;
      margin-bottom: 6px;
    }
    #applyModal textarea {
      width: 100%;
      min-height: 110px;
      resize: vertical;
      border-radius: 8px;
      border: 1px solid #cbd5e1;
      padding: 10px;
      font-family: inherit;
    }
    #applyModal input[type="text"] {
      width: 100%;
      border-radius: 8px;
      border: 1px solid #cbd5e1;
      padding: 10px;
    }
    #applyModal .actions {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      margin-top: 14px;
    }
  </style>
  </head>
<body>
  <div class="wrap">
    <div class="header-row">
      <a class="btn secondary" href="./dashboard_patient.html">← Back</a>
      <a class="btn secondary" href="./patient_login.html">Log out</a>
    </div>
    <div class="card">
      <h1 class="title">Available Doctors</h1>
      <p class="subtitle">Browse providers and apply to receive care.</p>

      <!--
      <div class="doctor-grid">
        <div class="card">
          <div class="doctor-card">
            <img class="avatar" alt="Dr. Avery" src="https://i.pravatar.cc/112?img=10">
            <div class="meta">
              <h3>Dr. Jordan Avery, MD</h3>
              <div class="tags">
                <span class="tag">Primary Care</span>
                <span class="tag">Telehealth</span>
              </div>
              <small>Next availability: Tomorrow • 9:00 AM – 12:00 PM</small>
            </div>
            <div class="actions-right">
              <button class="btn primary" onclick="applyForCare('Dr. Jordan Avery')">Apply for Care</button>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="doctor-card">
            <img class="avatar" alt="Dr. Bennett" src="https://i.pravatar.cc/112?img=12">
            <div class="meta">
              <h3>Dr. Riley Bennett, DO</h3>
              <div class="tags">
                <span class="tag">Family Medicine</span>
                <span class="tag">Same‑day</span>
              </div>
              <small>Next availability: Today • 2:30 PM – 5:00 PM</small>
            </div>
            <div class="actions-right">
              <button class="btn primary" onclick="applyForCare('Dr. Riley Bennett')">Apply for Care</button>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="doctor-card">
            <img class="avatar" alt="Dr. Carter" src="https://i.pravatar.cc/112?img=15">
            <div class="meta">
              <h3>Dr. Morgan Carter, NP</h3>
              <div class="tags">
                <span class="tag">Urgent Care</span>
                <span class="tag">Virtual</span>
              </div>
              <small>Next availability: Thu • 10:00 AM – 4:00 PM</small>
            </div>
            <div class="actions-right">
              <button class="btn primary" onclick="applyForCare('Dr. Morgan Carter')">Apply for Care</button>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="doctor-card">
            <img class="avatar" alt="Dr. Diaz" src="https://i.pravatar.cc/112?img=20">
            <div class="meta">
              <h3>Dr. Casey Diaz, MD</h3>
              <div class="tags">
                <span class="tag">Pediatrics</span>
                <span class="tag">In‑network</span>
              </div>
              <small>Next availability: Fri • 8:30 AM – 12:30 PM</small>
            </div>
            <div class="actions-right">
              <button class="btn primary" onclick="applyForCare('Dr. Casey Diaz')">Apply for Care</button>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="doctor-card">
            <img class="avatar" alt="Dr. Ellis" src="https://i.pravatar.cc/112?img=25">
            <div class="meta">
              <h3>Dr. Taylor Ellis, PA-C</h3>
              <div class="tags">
                <span class="tag">Dermatology</span>
                <span class="tag">New patients</span>
              </div>
              <small>Next availability: Mon • 1:00 PM – 4:30 PM</small>
            </div>
            <div class="actions-right">
              <button class="btn primary" onclick="applyForCare('Dr. Taylor Ellis')">Apply for Care</button>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="doctor-card">
            <img class="avatar" alt="Dr. Flores" src="https://i.pravatar.cc/112?img=30">
            <div class="meta">
              <h3>Dr. Jamie Flores, MD</h3>
              <div class="tags">
                <span class="tag">Cardiology</span>
                <span class="tag">Tele-visit</span>
              </div>
              <small>Next availability: Wed • 11:00 AM – 3:00 PM</small>
            </div>
            <div class="actions-right">
              <button class="btn primary" onclick="applyForCare('Dr. Jamie Flores')">Apply for Care</button>
            </div>
          </div>
        </div>
      </div>
      -->

      <div id="doctorList" class="doctor-grid"></div>
    </div>
  </div>

  <div id="applyModal" role="dialog" aria-modal="true">
    <div class="modal-card card">
      <div class="header-row" style="align-items: center;">
        <div>
          <h2 class="title" style="margin: 0;">Apply for Care</h2>
          <p class="subtitle" id="applyDoctorLabel" style="margin: 2px 0 0;"></p>
        </div>
        <button class="close-btn" id="applyClose" aria-label="Close">✕</button>
      </div>
      <form id="applyForm" style="margin-top: 10px;">
        <label for="applyReason">Reason for visit</label>
        <textarea id="applyReason" name="reason" placeholder="Briefly describe why you’re visiting" required></textarea>

        <label for="applyContact">Preferred contact (optional)</label>
        <input id="applyContact" name="contact" type="text" placeholder="e.g., Best phone/time to reach you">

        <small class="muted" style="display:block;margin-top:8px">We’ll email the doctor and send you a receipt.</small>
        <div id="applyError" class="muted" style="color:#ef4444; min-height: 18px; margin-top: 6px;"></div>

        <div class="actions">
          <button type="button" class="btn secondary" id="applyCancel">Cancel</button>
          <button type="submit" class="btn primary" id="applySubmit">Send request</button>
        </div>
      </form>
    </div>
  </div>

<script src="./assets/js/api.js"></script>
<script src="./assets/js/available.js"></script>
</body>
</html>


